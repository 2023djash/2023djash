# é…ç½®åç§°: Clash é…ç½®
# é…ç½®ä½œè€…: djash
# æ›´æ–°æ—¶é—´: 24-06-23 05:00


# æ··åˆç«¯å£ HTTPå’ŒSOCKS5ç”¨ä¸€ä¸ªç«¯å£
mixed-port: 7893
# TCP å¹¶å‘è¿æ¥æ‰€æœ‰ IP, å°†ä½¿ç”¨æœ€å¿«æ¡æ‰‹çš„ TCP
tcp-concurrent: true
# å…è®¸å±€åŸŸç½‘çš„è¿æ¥ï¼ˆå¯ç”¨æ¥å…±äº«ä»£ç†ï¼‰
allow-lan: true
# å¼€å¯ IPv6 æ€»å¼€å…³ï¼Œå…³é—­é˜»æ–­æ‰€æœ‰ IPv6 é“¾æ¥å’Œå±è”½ DNS è¯·æ±‚ AAAA è®°å½•  
ipv6: false
# è§„åˆ™æ¨¡å¼ï¼šrule/global/direct/script
mode: rule
# è®¾ç½®æ—¥å¿—è¾“å‡ºçº§åˆ«: silent/error/warning/info/debug
log-level: info
# å…¨å±€ TLS æŒ‡çº¹
global-client-fingerprint: chrome
# åŒ¹é…æ‰€æœ‰è¿›ç¨‹ï¼ˆalways/strict/offï¼‰
find-process-mode: strict

# ä½¿ç”¨geoip.datæ•°æ®åº“
geodata-mode: true
geox-url:
  geoip: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat"
  geosite: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb"

profile:
  # å­˜å‚¨ select é€‰æ‹©è®°å½•
  store-selected: true 
  # æŒä¹…åŒ– fake-ip
  store-fake-ip: true  

# å—…æ¢åŸŸå å¯é€‰é…ç½®
sniffer:               
  enable: true
  # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®ï¼Œé»˜è®¤ true
  parse-pure-ip: true  
  sniff:
    TLS:
      ports: [443, 8443]
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    QUIC:
      ports: [443, 8443]

# Tun é…ç½®  
tun:
  enable: true
  # å¯é€‰ï¼š system/gvisor/mixedï¼›
  stack: mixed
  # dnsåŠ«æŒ,ä¸€èˆ¬è®¾ç½®ä¸º any:53 å³å¯, å³åŠ«æŒæ‰€æœ‰53ç«¯å£çš„udpæµé‡
  dns-hijack: [any:53]
  # è‡ªåŠ¨è®¾ç½®å…¨å±€è·¯ç”±ï¼Œå¯ä»¥è‡ªåŠ¨å°†å…¨å±€æµé‡è·¯ç”±è¿›å…¥tunç½‘å¡ã€‚
  auto-route: true
  # è‡ªåŠ¨è¯†åˆ«å‡ºå£ç½‘å¡
  auto-detect-interface: true

dns:
  enable: true
  # IPV6è§£æå¼€å…³ï¼›å¦‚æœä¸ºfalseï¼Œå°†è¿”å›ipv6ç»“æœä¸ºç©º
  ipv6: false
  # æ¨¡å¼ï¼šredir-hostæˆ–fake-ip
  enhanced-mode: fake-ip
  # DNSç›‘å¬åœ°å€
  listen: :1053
  # Fake-IPè§£æåœ°å€æ± 
  fake-ip-range: 198.18.0.1/16
  # fakeip è¿‡æ»¤ï¼Œä»¥ä¸‹åœ°å€ä¸ä¼šä¸‹å‘ fakeip æ˜ å°„ç”¨äºè¿æ¥
  fake-ip-filter: ['*.lan','*.direct', cable.auth.com, '*.msftconnecttest.com', '*.msftncsi.com', network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, '*.srv.nintendo.net', '*.stun.playstation.net', xbox.*.microsoft.com, '*.xboxlive.com', stun.*, global.turn.twilio.com, global.stun.twilio.com, app.yinxiang.com, injections.adguard.org, local.adguard.org, cable.auth.com, localhost.*.qq.com, localhost.*.weixin.qq.com, '*.logon.battlenet.com.cn', '*.logon.battle.net', '*.blzstatic.cn', music.163.com, '*.music.163.com', '*.126.net', musicapi.taihe.com, music.taihe.com, songsearch.kugou.com, trackercdn.kugou.com, '*.kuwo.cn', api-jooxtt.sanook.com, api.joox.com, joox.com, y.qq.com, '*.y.qq.com', streamoc.music.tc.qq.com, mobileoc.music.tc.qq.com, isure.stream.qqmusic.qq.com, dl.stream.qqmusic.qq.com, aqqmusic.tc.qq.com, amobile.music.tc.qq.com, '*.xiami.com', '*.music.migu.cn', music.migu.cn, proxy.golang.org, '*.mcdn.bilivideo.cn', '*.cmpassport.com', id6.me, open.e.189.cn, mdn.open.wo.cn, opencloud.wostore.cn, auth.wosms.cn, '*.jegotrip.com.cn', '*.icitymobile.mobi', '*.pingan.com.cn', '*.cmbchina.com', '*.10099.com.cn', pool.ntp.org, '*.pool.ntp.org', ntp.*.com, time.*.com, 'ntp?.*.com', 'time?.*.com', time.*.gov, time.*.edu.cn, '*.ntp.org.cn', PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*]
  #é»˜è®¤çš„åŸŸåè§£ææœåŠ¡å™¨
  nameserver: [quic://223.5.5.5, quic://223.6.6.6, https://1.12.12.12/dns-query, https://120.53.53.53/dns-query]                     


# ä»£ç†
proxies: null

# ä»£ç†è®¢é˜…
proxy-providers:
  ğƒğ£ğšğ¬ğ¡:
    type: http
    url: "è®¢é˜…é“¾æ¥" 
    interval: 3600
    path: ./Server/djash.yaml
    health-check:
      enable: true
      url: https://cp.cloudflare.com/generate_204
      interval: 600


# ä»£ç†ç­–ç•¥ç»„
proxy-groups:
  - name: "ğğ«ğ¨ğ±ğ²"
    type: select
    use:
      - ğƒğ£ğšğ¬ğ¡
  
  - name: "ğ’ğ©ğ¨ğ­ğ¢ğŸğ²"
    type: select
    proxies: 
      - ğ‡ğ¨ğ§ğ ğŠğ¨ğ§ğ 
      - ğ“ğšğ¢ğ–ğšğ§
      - ğ’ğ¢ğ§ğ ğšğ©ğ¨ğ«ğ

  - name: "ğ“ğ¢ğ¤ğ“ğ¨ğ¤"
    type: select
    proxies:
      - ğ‡ğ¨ğ§ğ ğŠğ¨ğ§ğ 
      - ğ“ğšğ¢ğ–ğšğ§
      - ğ’ğ¢ğ§ğ ğšğ©ğ¨ğ«ğ
      - ğ‰ğšğ©ğšğ§
      - ğ”ğ’ğ€

  - name: "ğğ©ğğ§ğ€ğ¢"
    type: select
    proxies:
      - ğ“ğšğ¢ğ–ğšğ§
      - ğ’ğ¢ğ§ğ ğšğ©ğ¨ğ«ğ
      - ğ‰ğšğ©ğšğ§
      - ğ”ğ’ğ€

  - name: "ğŒğ¢ğœğ«ğ¨ğ¬ğ¨ğŸğ­"
    type: select
    proxies:
      - ğ‡ğ¨ğ§ğ ğŠğ¨ğ§ğ 
      - ğ’ğ¢ğ§ğ ğšğ©ğ¨ğ«ğ
      - ğ”ğ’ğ€
      - DIRECT

  - name: "ğ“ğğ¥ğğ ğ«ğšğ¦"
    type: select
    proxies:
      - ğ‡ğ¨ğ§ğ ğŠğ¨ğ§ğ 
      - ğ“ğšğ¢ğ–ğšğ§
      - ğ’ğ¢ğ§ğ ğšğ©ğ¨ğ«ğ
      - ğ‰ğšğ©ğšğ§
      - ğ”ğ’ğ€

  - name: "ğˆğ§ğ¬ğ­ğšğ ğ«ğšğ¦"
    type: select
    proxies:
      - ğ‡ğ¨ğ§ğ ğŠğ¨ğ§ğ 
      - ğ“ğšğ¢ğ–ğšğ§
      - ğ’ğ¢ğ§ğ ğšğ©ğ¨ğ«ğ
      - ğ‰ğšğ©ğšğ§
      - ğ”ğ’ğ€

  - name: "ğ†ğ¨ğ¨ğ ğ¥ğ"
    type: select
    proxies:
      - ğ‡ğ¨ğ§ğ ğŠğ¨ğ§ğ 
      - ğ“ğšğ¢ğ–ğšğ§
      - ğ’ğ¢ğ§ğ ğšğ©ğ¨ğ«ğ
      - ğ‰ğšğ©ğšğ§
      - ğ”ğ’ğ€

  - name: "ğ†ğ‰ğ¦ğğğ¢ğš"
    type: select
    proxies:
      - ğ‡ğ¨ğ§ğ ğŠğ¨ğ§ğ 
      - ğ“ğšğ¢ğ–ğšğ§
      - ğ’ğ¢ğ§ğ ğšğ©ğ¨ğ«ğ
      - ğ‰ğšğ©ğšğ§
      - ğ”ğ’ğ€

  - name: "ğ†ğ¥ğ¨ğ›ğšğ¥"
    type: select
    proxies:
      - ğ‡ğ¨ğ§ğ ğŠğ¨ğ§ğ 
      - ğ“ğšğ¢ğ–ğšğ§
      - ğ’ğ¢ğ§ğ ğšğ©ğ¨ğ«ğ
      - ğ‰ğšğ©ğšğ§
      - ğ”ğ’ğ€

  - name: "ğƒğ¨ğ®ğƒğ¢"
    type: select
    proxies:
      - ğğ«ğ¨ğ±ğ²
      - ğ‡ğ¨ğ§ğ ğŠğ¨ğ§ğ 
      - ğ“ğšğ¢ğ–ğšğ§
      - ğ’ğ¢ğ§ğ ğšğ©ğ¨ğ«ğ
      - ğ‰ğšğ©ğšğ§
      - ğ”ğ’ğ€
      - ğŠğ¨ğ«ğğš
      - DIRECT

  - name: "ğ‡ğ¨ğ§ğ ğŠğ¨ğ§ğ "
    type: select
    filter: "é¦™æ¸¯|æ¸¯|HK|ğŸ‡­ğŸ‡°|(?i)Hong"
    use:
      - ğƒğ£ğšğ¬ğ¡

  - name: "ğ“ğšğ¢ğ–ğšğ§"
    type: select
    filter: "å°æ¹¾|å°|TW|ğŸ‡¹ğŸ‡¼|(?i)Taiwan"
    use:
      - ğƒğ£ğšğ¬ğ¡

  - name: "ğ‰ğšğ©ğšğ§"
    type: select
    filter: "æ—¥æœ¬|æ—¥|JP|ğŸ‡¯ğŸ‡µ|(?i)Japan"
    use:
      - ğƒğ£ğšğ¬ğ¡

  - name: "ğŠğ¨ğ«ğğš"
    type: select
    filter: "éŸ©å›½|éŸ©|KR|ğŸ‡°ğŸ‡·|(?i)Korea"
    use:
      - ğƒğ£ğšğ¬ğ¡

  - name: "ğ’ğ¢ğ§ğ ğšğ©ğ¨ğ«ğ"
    type: select
    filter: "æ–°åŠ å¡|ç‹®|SG|ğŸ‡¸ğŸ‡¬|(?i)Singapore"
    use:
      - ğƒğ£ğšğ¬ğ¡

  - name: "ğ”ğ’ğ€"
    type: url-test
    filter: "ç¾å›½|ç¾|US|ğŸ‡ºğŸ‡¸|(?i)States"
    use:
      - ğƒğ£ğšğ¬ğ¡

# æœ¬åœ°è§„åˆ™
rules:
  - RULE-SET, ğ†ğ®ğ¢ğ³ğğ—ğ™, DIRECT
  - RULE-SET, ğ€ğğ¬ğ‹ğ¨ğœğ¤, REJECT
  - RULE-SET, ğğ¨ğ®ğ²ğ¢ğ§,ğğ«ğ¨ğ±ğ²
  - RULE-SET, ğ’ğ©ğ¨ğ­ğ¢ğŸğ²,ğ’ğ©ğ¨ğ­ğ¢ğŸğ²
  - RULE-SET, ğ“ğ¢ğ¤ğ­ğ¨ğ¤,ğ“ğ¢ğ¤ğ“ğ¨ğ¤
  - RULE-SET, ğ“ğğ¥ğğ ğ«ğšğ¦,ğ“ğğ¥ğğ ğ«ğšğ¦
  - RULE-SET, ğˆğ§ğ¬ğ­ğšğ ğ«ğšğ¦,ğˆğ§ğ¬ğ­ğšğ ğ«ğšğ¦
  - RULE-SET, ğ†ğ¢ğ­ğ¡ğ®ğ›,ğ†ğ¨ğ¨ğ ğ¥ğ
  - RULE-SET, ğ˜ğ¨ğ®ğ­ğ®ğ›ğ,ğ†ğ¨ğ¨ğ ğ¥ğ
  - RULE-SET, ğ†ğ¨ğ¨ğ ğ¥ğ,ğ†ğ¨ğ¨ğ ğ¥ğ
  - RULE-SET, ğğ©ğğ§ğ€ğ¢,ğğ©ğğ§ğ€ğ¢
  - RULE-SET, ğŒğ¢ğœğ«ğ¨ğ¬ğ¨ğŸğ­,ğŒğ¢ğœğ«ğ¨ğ¬ğ¨ğŸğ­
  - RULE-SET, ğ†ğ‰ğ¦ğğğ¢ğš,ğ†ğ‰ğ¦ğğğ¢ğš
  - RULE-SET, ğ†ğ‰ğ§ğğ­,ğ†ğ¥ğ¨ğ›ğšğ¥
  - RULE-SET, ğ‹ğ€ğ, DIRECT
  - RULE-SET, ğ€ğ’ğ, DIRECT
  - MATCH, ğƒğ¨ğ®ğƒğ¢

# è¿œç¨‹è§„åˆ™
rule-providers:
  ğ†ğ®ğ¢ğ³ğğ—ğ™: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/Unbreak.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/Unbreak.yaml

  ğ€ğğ¬ğ‹ğ¨ğœğ¤: 
    behavior: domain
    interval: 86400
    type: http
    path: ./Rules/AdBlock.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/AdBlock.yaml

  ğğ¨ğ®ğ²ğ¢ğ§: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/Douyin.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/Douyin.yaml

  ğ’ğ©ğ¨ğ­ğ¢ğŸğ²: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/Spotify.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/Spotify.yaml

  ğ“ğğ¥ğğ ğ«ğšğ¦: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/Telegram.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/Telegram.yaml

  ğ“ğ¢ğ¤ğ­ğ¨ğ¤: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/TikTok.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/TikTok.yaml

  ğˆğ§ğ¬ğ­ğšğ ğ«ğšğ¦: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/Instagram.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/Instagram.yaml

  ğ†ğ¢ğ­ğ¡ğ®ğ›: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/Github.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/Github.yaml

  ğ˜ğ¨ğ®ğ­ğ®ğ›ğ: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/YouTube.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/YouTube.yaml

  ğ†ğ¨ğ¨ğ ğ¥ğ: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/Google.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/Google.yaml

  ğğ©ğğ§ğ€ğ¢: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/Openai.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/Openai.yaml

  ğŒğ¢ğœğ«ğ¨ğ¬ğ¨ğŸğ­: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/Microsoft.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/Microsoft.yaml

  ğ†ğ‰ğ¦ğğğ¢ğš: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/GlobalMedia.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/GlobalMedia.yaml

  ğ†ğ‰ğ§ğğ­: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/Global.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/Global.yaml

  ğ‹ğ€ğ: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/LAN.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/LAN.yaml

  ğ€ğ’ğ: 
    behavior: classical
    interval: 86400
    type: http
    path: ./Rules/GeoipCN.yaml
    url: https://raw.githubusercontent.com/2023djash/2023djash/main/Clash/Rules/GeoipCN.yaml